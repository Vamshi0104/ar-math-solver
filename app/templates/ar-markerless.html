<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>AR Math Visualizer</title>

    <!-- A-Frame and AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/2.0.0/aframe/build/aframe-ar.min.js"></script>

    <!-- Style -->
    <link rel="stylesheet" href="/static/css/style.css"/>
</head>

<body style="margin: 0; overflow: hidden">
<a-scene embedded arjs="sourceType: webcam; detectionMode: mono;">
    <a-entity camera></a-entity>

    <a-entity position="0 0 -2">
        <a-entity id="mathText"
                  text="value: Waiting for Equation...; color: green; align: center; wrapCount: 40; baseline: center;"
                  position="0 0.1 0"
                  scale="0.4 0.4 0.4">
        </a-entity>

    </a-entity>


    <a-entity light="type: ambient; color: #BBB"></a-entity>
    <a-entity light="type: directional; color: #FFF; intensity: 0.6" position="1 1 0"></a-entity>
</a-scene>


<!-- Upload Form -->
<form id="uploadForm" style="position: absolute; top: 10px; left: 10px; z-index: 10">
    <input type="file" id="imageInput" name="file" accept="image/*" required/>
    <button type="submit">Upload</button>
</form>

<!-- Scripts -->
<script>
    AFRAME.registerComponent('marker-listener', {
      init: function () {
        this.el.addEventListener('markerFound', () => {
          console.log('Marker detected!');
        });
        this.el.addEventListener('markerLost', () => {
          console.log('Marker lost.');
        });
      }
    });
</script>

<script src="/static/js/ar-render.js"></script>
<script src="/static/js/api-client.js"></script>
</body>
</html>
